(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-255e3a4d"],{"23ea":function(t,e,r){},"408a":function(t,e,r){var i=r("e330");t.exports=i(1..valueOf)},4268:function(t,e,r){"use strict";r("23ea")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var i=r("e330"),n=r("1d80"),o=r("577e"),a=r("5899"),s=i("".replace),u="["+a+"]",l=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),d=function(t){return function(e){var r=o(n(e));return 1&t&&(r=s(r,l,"")),2&t&&(r=s(r,c,"")),r}};t.exports={start:d(1),end:d(2),trim:d(3)}},7156:function(t,e,r){var i=r("1626"),n=r("861d"),o=r("d2bb");t.exports=function(t,e,r){var a,s;return o&&i(a=e.constructor)&&a!==r&&n(s=a.prototype)&&s!==r.prototype&&o(t,s),t}},"81d5":function(t,e,r){"use strict";var i=r("7b0b"),n=r("23cb"),o=r("07fa");t.exports=function(t){var e=i(this),r=o(e),a=arguments.length,s=n(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,l=void 0===u?r:n(u,r);while(l>s)e[s++]=t;return e}},a55b:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper"},[r("div",{staticStyle:{height:"80px","line-height":"80px","font-size":"35px","padding-left":"30px",color:"white","background-color":"#e8b963"}},[t._v("一亩田——轻松买卖农产品")]),r("div",{staticStyle:{margin:"150px auto","background-color":"#fff",width:"450px",height:"350px",padding:"10px","border-radius":"10px"}},[t._m(0),r("el-form",{ref:"userForm",attrs:{model:t.user,rules:t.rules}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{size:"max","prefix-icon":"el-icon-user"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{size:"max","prefix-icon":"el-icon-lock","show-password":""},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),r("el-form-item",{staticStyle:{margin:"40px 0","text-align":"right"}},[r("el-button",{attrs:{type:"warning",size:"middle",autocomplete:"off"},on:{click:function(e){return t.$router.push("/register")}}},[t._v("前往注册")]),r("el-button",{attrs:{type:"primary",size:"middle",autocomplete:"off"},on:{click:t.login}},[t._v("登录")])],1),r("el-form-item",{staticStyle:{margin:"20px 0","text-align":"right"}},[r("el-button",{attrs:{type:"text",size:"middle",autocomplete:"off"},on:{click:t.handlePass}},[t._v("找回密码")])],1)],1)],1),r("el-dialog",{attrs:{title:"找回密码",visible:t.dialogFormVisible,width:"30%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[r("el-form",{attrs:{"label-width":"100px",size:"small"}},[r("el-form-item",{attrs:{label:"用户名"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.pass.username,callback:function(e){t.$set(t.pass,"username",e)},expression:"pass.username"}})],1),r("el-form-item",{attrs:{label:"手机号"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.pass.phone,callback:function(e){t.$set(t.pass,"phone",e)},expression:"pass.phone"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.passwordBack}},[t._v("重置密码")])],1)],1)],1)},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{margin:"20px 0","text-align":"center","font-size":"30px",color:"#e8b963"}},[r("b",[t._v("登 录")])])}],o=(r("e9c4"),r("a18c")),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"s-canvas"},[r("canvas",{attrs:{id:"s-canvas",width:t.contentWidth,height:t.contentHeight}})])},s=[],u=(r("a9e3"),r("cb29"),{name:"Identify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:28},fontSizeMax:{type:Number,default:40},backgroundColorMin:{type:Number,default:180},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:40},lineColorMax:{type:Number,default:180},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:112},contentHeight:{type:Number,default:40}},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor:function(t,e){var r=this.randomNum(t,e),i=this.randomNum(t,e),n=this.randomNum(t,e);return"rgb("+r+","+i+","+n+")"},drawPic:function(){var t=document.getElementById("s-canvas"),e=t.getContext("2d");e.textBaseline="bottom",e.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),e.fillRect(0,0,this.contentWidth,this.contentHeight);for(var r=0;r<this.identifyCode.length;r++)this.drawText(e,this.identifyCode[r],r);this.drawLine(e),this.drawDot(e)},drawText:function(t,e,r){t.fillStyle=this.randomColor(this.colorMin,this.colorMax),t.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var i=(r+1)*(this.contentWidth/(this.identifyCode.length+1)),n=this.randomNum(this.fontSizeMax,this.contentHeight-5),o=this.randomNum(-30,30);t.translate(i,n),t.rotate(o*Math.PI/270),t.fillText(e,0,0),t.rotate(-o*Math.PI/270),t.translate(-i,-n)},drawLine:function(t){for(var e=0;e<2;e++)t.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()},drawDot:function(t){for(var e=0;e<20;e++)t.fillStyle=this.randomColor(0,255),t.beginPath(),t.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()}},watch:{identifyCode:function(){this.drawPic()}},mounted:function(){this.drawPic()}}),l=u,c=(r("4268"),r("2877")),d=Object(c["a"])(l,a,s,!1,null,"2ed71a64",null),f=d.exports,m={name:"Login",data:function(){return{user:{},pass:{},code:"",dialogFormVisible:!1,identifyCode:"",identifyCodes:"3456789ABCDEFGHGKMNPQRSTUVWXY",rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 5 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}]}}},components:{Identify:f},mounted:function(){Object(o["b"])(),this.refreshCode()},methods:{login:function(){var t=this;this.$refs["userForm"].validate((function(e){e&&t.request.post("/user/login",t.user).then((function(e){"200"===e.code?(localStorage.setItem("user",JSON.stringify(e.data)),localStorage.setItem("menus",JSON.stringify(e.data.menus)),Object(o["c"])(),t.$router.push("/"),t.$message.success("登录成功")):t.$message.error(e.msg)}))}))},refreshCode:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},makeCode:function(t,e){for(var r=0;r<e;r++)this.identifyCode+=this.identifyCodes[Math.floor(Math.random()*this.identifyCodes.length)]},handlePass:function(){this.dialogFormVisible=!0,this.pass={}},passwordBack:function(){var t=this;this.request.put("/user/reset",this.pass).then((function(e){"200"===e.code?(t.$message.success("重置密码成功，新密码为：123，请尽快修改密码"),t.dialogFormVisible=!1):t.$message.error(e.msg)}))}}},h=m,p=(r("d6db"),Object(c["a"])(h,i,n,!1,null,null,null));e["default"]=p.exports},a9e3:function(t,e,r){"use strict";var i=r("83ab"),n=r("da84"),o=r("e330"),a=r("94ca"),s=r("6eeb"),u=r("1a2d"),l=r("7156"),c=r("3a9b"),d=r("d9b5"),f=r("c04e"),m=r("d039"),h=r("241c").f,p=r("06cf").f,g=r("9bf2").f,b=r("408a"),v=r("58a8").trim,y="Number",x=n[y],N=x.prototype,C=n.TypeError,w=o("".slice),M=o("".charCodeAt),S=function(t){var e=f(t,"number");return"bigint"==typeof e?e:k(e)},k=function(t){var e,r,i,n,o,a,s,u,l=f(t,"number");if(d(l))throw C("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=v(l),e=M(l,0),43===e||45===e){if(r=M(l,2),88===r||120===r)return NaN}else if(48===e){switch(M(l,1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+l}for(o=w(l,2),a=o.length,s=0;s<a;s++)if(u=M(o,s),u<48||u>n)return NaN;return parseInt(o,i)}return+l};if(a(y,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var I,F=function(t){var e=arguments.length<1?0:x(S(t)),r=this;return c(N,r)&&m((function(){b(r)}))?l(Object(e),r,F):e},_=i?h(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),E=0;_.length>E;E++)u(x,I=_[E])&&!u(F,I)&&g(F,I,p(x,I));F.prototype=N,N.constructor=F,s(n,y,F)}},cb29:function(t,e,r){var i=r("23e7"),n=r("81d5"),o=r("44d2");i({target:"Array",proto:!0},{fill:n}),o("fill")},d6db:function(t,e,r){"use strict";r("e67a")},e67a:function(t,e,r){},e9c4:function(t,e,r){var i=r("23e7"),n=r("da84"),o=r("d066"),a=r("2ba4"),s=r("e330"),u=r("d039"),l=n.Array,c=o("JSON","stringify"),d=s(/./.exec),f=s("".charAt),m=s("".charCodeAt),h=s("".replace),p=s(1..toString),g=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,v=/^[\uDC00-\uDFFF]$/,y=function(t,e,r){var i=f(r,e-1),n=f(r,e+1);return d(b,t)&&!d(v,n)||d(v,t)&&!d(b,i)?"\\u"+p(m(t,0),16):t},x=u((function(){return'"\\udf06\\ud834"'!==c("\udf06\ud834")||'"\\udead"'!==c("\udead")}));c&&i({target:"JSON",stat:!0,forced:x},{stringify:function(t,e,r){for(var i=0,n=arguments.length,o=l(n);i<n;i++)o[i]=arguments[i];var s=a(c,null,o);return"string"==typeof s?h(s,g,y):s}})}}]);
//# sourceMappingURL=chunk-255e3a4d.64753bc2.js.map